function time(){return(new Date()).getTime()/1000}(function($){function date(e,g){var h=this,jsdate,f,formatChr=/\\?([a-z])/gi,formatChrCb,_pad=function(n,c){if((n=n+'').length<c){return new Array((++c)-n.length).join('0')+n}return n},txt_words=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];formatChrCb=function(t,s){return f[t]?f[t]():s};f={d:function(){return _pad(f.j(),2)},D:function(){return f.l().slice(0,3)},j:function(){return jsdate.getDate()},l:function(){return txt_words[f.w()]+'day'},N:function(){return f.w()||7},S:function(){var j=f.j();return j>4&&j<21?'th':{1:'st',2:'nd',3:'rd'}[j%10]||'th'},w:function(){return jsdate.getDay()},z:function(){var a=new Date(f.Y(),f.n()-1,f.j()),b=new Date(f.Y(),0,1);return Math.round((a-b)/864e5)+1},W:function(){var a=new Date(f.Y(),f.n()-1,f.j()-f.N()+3),b=new Date(a.getFullYear(),0,4);return _pad(1+Math.round((a-b)/864e5/7),2)},F:function(){return txt_words[6+f.n()]},m:function(){return _pad(f.n(),2)},M:function(){return f.F().slice(0,3)},n:function(){return jsdate.getMonth()+1},t:function(){return(new Date(f.Y(),f.n(),0)).getDate()},L:function(){return new Date(f.Y(),1,29).getMonth()===1|0},o:function(){var n=f.n(),W=f.W(),Y=f.Y();return Y+(n===12&&W<9?-1:n===1&&W>9)},Y:function(){return jsdate.getFullYear()},y:function(){return(f.Y()+"").slice(-2)},a:function(){return jsdate.getHours()>11?"pm":"am"},A:function(){return f.a().toUpperCase()},B:function(){var H=jsdate.getUTCHours()*36e2,i=jsdate.getUTCMinutes()*60,s=jsdate.getUTCSeconds();return _pad(Math.floor((H+i+s+36e2)/86.4)%1e3,3)},g:function(){return f.G()%12||12},G:function(){return jsdate.getHours()},h:function(){return _pad(f.g(),2)},H:function(){return _pad(f.G(),2)},i:function(){return _pad(jsdate.getMinutes(),2)},s:function(){return _pad(jsdate.getSeconds(),2)},u:function(){return _pad(jsdate.getMilliseconds()*1000,6)},I:function(){var a=new Date(f.Y(),0),c=Date.UTC(f.Y(),0),b=new Date(f.Y(),6),d=Date.UTC(f.Y(),6);return 0+((a-c)!==(b-d))},O:function(){var b=jsdate.getTimezoneOffset(),a=Math.abs(b);return(b>0?"-":"+")+_pad(Math.floor(a/60)*100+a%60,4)},P:function(){var O=f.O();return(O.substr(0,3)+":"+O.substr(3,2))},Z:function(){return-jsdate.getTimezoneOffset()*60},c:function(){return'Y-m-d\\Th:i:sP'.replace(formatChr,formatChrCb)},r:function(){return'D, d M Y H:i:s O'.replace(formatChr,formatChrCb)},U:function(){return jsdate.getTime()/1000|0}};this.date=function(a,b){h=this;jsdate=((typeof b==='undefined')?new Date():(b instanceof Date)?new Date(b):new Date(b*1000));return a.replace(formatChr,formatChrCb)};return this.date(e,g)}function number_format(a,b,e,f){var n=a,c=isNaN(b=Math.abs(b))?2:b;var d=e==undefined?",":e;var t=f==undefined?".":f,s=n<0?"-":"";var i=parseInt(n=Math.abs(+n||0).toFixed(c))+"",j=(j=i.length)>3?j%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")}$.apnumber=function(a){var b=['one','two','three','four','five','six','seven','eight','nine'];var c=b[parseInt(a)-1];return c!==undefined?c:a};$.intcomma=function(a,b){b=b===undefined?0:b;return number_format(a,b,'.',',')};$.intword=function(a){a=parseInt(a);if(a<1000000){return a}else if(a<100){return $.intcomma(a,1)}else if(a<1000){return $.intcomma(a/100,1)+" hundred"}else if(a<100000){return $.intcomma(a/1000.0,1)+" thousand"}else if(a<1000000){return $.intcomma(a/100000.0,1)+" hundred thousand"}else if(a<1000000000){return $.intcomma(a/1000000.0,1)+" million"}else if(a<1000000000000){return $.intcomma(a/1000000000.0,1)+" billion"}else if(a<1000000000000000){return $.intcomma(a/1000000000000.0,1)+" trillion"}return a};$.processDate=function(a){a=a===undefined?time():a;if(parseInt(a)<10000){return Date.parse(a)/1000}return(parseInt(a))};$.naturalDay=function(a,b){a=$.processDate(a);var b=b===undefined?'Y-m-d':b;var c=60*60*24;var d=new Date();var e=(new Date(d.getFullYear(),d.getMonth(),d.getDate())).getTime()/1000;var f=e+c;var g=f+c;var h=e-c;if(a>=h&&a<e){return"yesterday"}else if(a>=e&&a<f){return"today"}else if(a>=f&&a<g){return"tomorrow"}else{return date(b,a)}};$.naturalTime=function(a,b){a=$.processDate(a);b=b===undefined?'g:ia':b;var c=time();var d=60*60;var e,minutes,hours;if($.naturalDay(a,b)==='today'){var f=c-d;var g=c+d;if(a>f){if(a>c){e=Math.round(a-c);minutes=Math.round(e/60);if(minutes>60){hours=Math.round(minutes/60);return"in about "+hours+" hours"}else if(!minutes){if(e<=10){return"just now"}else{return"in "+e+" seconds"}}else if(minutes===1){return"in one minute"}else{return"in "+minutes+" minutes"}}e=Math.round(c-a);minutes=Math.round(e/60);if(!minutes){if(e<=10){return"now"}else{return e+" seconds ago"}}else if(minutes===1){return"one minute ago"}else{return""+minutes+" minutes ago"}}}return date(b,a)};$.ordinal=function(a){var b=parseInt(a);if(b===0){return a}var c=b%100;if(c===11||c===12||c===13){return b+"th"}var d=b%10;var e='';switch(d){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd";break;default:e="th";break}return b+e};$.filesizeformat=function(a){if(a>=1073741824){a=number_format(a/1073741824,2,'.','')+' Gb'}else{if(a>=1048576){a=number_format(a/1048576,2,'.','')+' Mb'}else{if(a>=1024){a=number_format(a/1024,0)+' Kb'}else{a=number_format(a,0)+' bytes'}}};return a};$.linebreaks=function(a){a=a.replace(/(\r\n|\n|\r){2}/gm,"</p><p>");a=a.replace(/(\r\n|\n|\r)/gm,"<br />");return'<p>'+a+'</p>'};$.linebreaksbr=function(a){return a.replace(/(\r\n|\n|\r)/gm,"<br />")};$.pluralize=function(a,b,c){var d='',plural='s';if(c!==undefined){d=b;plural=c}else if(b!==undefined){plural=b}return parseInt(a)===1?d:plural};$.truncatechars=function(a,b){if(a.length>b){return a.substr(0,b-3)+'...'}else{return a}};$.truncatewords=function(a,b){var c=a.split(' ');var d='';for(var i=0;i<b;i++){if(c[i]===undefined){break}d+=c[i];d+=' '}if(c.length>b){d+='...'}return d}})(jQuery);